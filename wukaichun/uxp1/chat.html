<!DOCTYPE html>
<html>

<head>
    <title>Chat</title>
    <!--script src="library.js"></script-->
    <link href="bootstrap.css" rel="stylesheet" />
    <style>
        body {
            background-color: white;
        }

        .main-c {
            padding: 10px 10px;
        }

        .page {
            padding: 10px 20px;
            margin: 0 auto;
        }

        .phone {
            margin: 0 auto;
            width: 324px;
            height: 576px;
            padding: 10px 10px;
            overflow-y: scroll;
            border-radius: 10px;
            border: 2px solid #f2f2f2;
        }

        .ctr {
            width: 270px;
            margin: 0 auto;
        }

        .ctr-m {
            padding: 3px 1px;
        }

        .ctr-o {
            padding: 10px 1px;
        }

        .tx {
            text-align: center;
            padding: 0;
        }

        .tx>img {
            border-radius: 30px;
            height: 30px;
            width: 30px;
        }

        .chat {
            background-color: #f1f2f7;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            padding: 2px 2px;
        }

        .chat-l {
            border-top-right-radius: 15px;
        }

        .chat-r {
            border-top-left-radius: 15px;
        }

        .chat>div {
            display: table;
            margin: 0 auto;
            padding: 2px 2px;
        }

        .chat>div {
            vertical-align: middle;
            display: table-cell;
        }

        .chat>div>img {
            padding: 5px 2px;
            height: 120px;
            border-radius: 10px;
        }

        .vdo {
            text-align: center;
            padding: 0;
        }

        .vdo>video {
            width: 100%;
            border-radius: 10px;
        }

        .vdo>div {
            width: 100%;
            opacity: 0.5;
            position: absolute;
            background-color: white;
            border-radius: 10px;
            top: 0;
            left: 10px;
            cursor: pointer;
        }

        .vdo>div>img {
            text-align: center;
            width: 60px;
        }

        .vdo>div:hover {
            opacity: 0.2;
        }

        p {
            font-size: 14px;
            margin: 0 auto;
        }

        .imgyuan {
            width: 100px;
            height: 20px;
            border-radius: 12px;
            padding-left: 13px;
            margin: 0 auto;
            position: relative;
            top: -10px;
            background-color: rgba(1, 150, 0, 0.3);
        }

        .imgyuan font {
            width: 33px;
            height: 11px;
            border-radius: 11px;
            margin-right: 9px;
            margin-top: 4px;
            display: block;
            float: left;
            background-color: blue;
            cursor: pointer;
        }

        .imgyuan>font:not(:first-child) {
            background-color: white;
            width: 11px;
        }

        .tab {
            overflow: hidden;
            width: 100%;
            height: 100%;
            position: relative;
        }

        .tab>div:not(:first-child) {
            display: none;
        }
    </style>
</head>

<body>
    <div class="tab main-c">

        <div class="page">
            <div class="container phone">
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test1 test1 test1 test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video1"></video>
                            <div id="player1"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test test test test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test test test test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video2"></video>
                            <div id="player2"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test test test test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
            </div>
        </div>
        <div class="page">
            <div class="container phone">
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test2 test2 test2 test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test test test test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video3"></video>
                            <div id="player3"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test test test test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test test test test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video4"></video>
                            <div id="player4"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test test test test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>

            </div>
        </div>
        <div class="page">
            <div class="container phone">
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test3 test3 test3 test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test test test test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video5"></video>
                            <div id="player5"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                    <div class="col-8 chat chat-l">
                        <div>
                            <p>Test test test test test test test test test</p>
                            <img src="sky.JPG">
                            <img src="sky.JPG">
                        </div>
                    </div>
                    <div class="col-2 tx">
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>
                <div class="ctr-o">
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                            <img src="tx.png">
                        </div>
                        <div class="col-8 chat chat-l">
                            <div>
                                <p>Test test test test test test test test test</p>
                            </div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                    <div class="row ctr ctr-m">
                        <div class="col-2 tx">
                        </div>
                        <div class="col-8 vdo">
                            <video src="video.mov" id="video6"></video>
                            <div id="player6"><img src="player.png"></div>
                        </div>
                        <div class="col-2 tx">
                        </div>
                    </div>
                </div>
                <div class="row ctr ctr-o">
                    <div class="col-2 tx">
                    </div>
                    <div class="col-8 chat chat-r">
                        <div>
                            <p>Test test test test test test test test test</p>
                        </div>
                    </div>
                    <div class="col-2 tx">
                        <img src="tx.png">
                    </div>
                </div>

            </div>
        </div>

    </div>
    <div class="imgyuan">
        <font></font>
        <font></font>
        <font></font>
    </div>



    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        function plyer(id) {
            var ply = document.getElementById("player" + id);
            var vdo = document.getElementById("video" + id);
            // ply.style.width = vdo.getBoundingClientRect().width + "px";
            // ply.style.width = vdo.style.width;
            ply.style.height = vdo.getBoundingClientRect().height + "px";
            ply.style.lineHeight = ply.style.height;
            ply.style.left = vdo.offsetLeft + "px";
            ply.style.top = vdo.offsetTop + "px";
            // console.log(vdo.getBoundingClientRect().width);
            // console.log(vdo.getBoundingClientRect().height);
            // console.log(ply.style.height);
            $('#player' + id).off('click');
            $('#player' + id).on("click", function () {
                if (vdo.paused) {
                    vdo.play();
                    ply.style.opacity = 0;
                    ply.children[0].src = "pause.png";
                    msmv(id, 0, ply);
                } else {
                    vdo.pause();
                    ply.style.opacity = 0.5;
                    ply.children[0].src = "player.png";
                    msmv(id, 1, ply);
                }
            });
            $('#video' + id).off('ended');
            $('#video' + id).on('ended', function () {
                ply.style.opacity = 0.5;
                ply.children[0].src = "player.png";
                msmv(id, 1, ply);
            });
        }
        function msmv(id, tag, ply) {
            $('#player' + id).off("mouseover");
            $('#player' + id).off("mouseout");
            $('#player' + id).on("mouseover", function () {
                ply.style.opacity = 0.2;
            });
            if (tag) {
                $('#player' + id).on("mouseout", function () {
                    ply.style.opacity = 0.5;
                });
            } else {
                $('#player' + id).on("mouseout", function () {
                    ply.style.opacity = 0;
                });
            }

        }
        function roll() {
            var len = pages.length;
            var autoPlay = function () {
                yuan[pos].style.backgroundColor = 'white';
                pages[pos].style.display = 'none';
                yuan[pos].style.width = '11px';
                pos = (++pos == len) ? 0 : pos;
                pages[pos].style.display = 'block';
                yuan[pos].style.backgroundColor = 'blue';
                yuan[pos].style.width = '33px';
                plyer(players[2 * pos]);
                plyer(players[2 * pos + 1]);
            }
            // var start = setInterval(autoPlay, 3000);
            // $('.tab').mouseover(function () {
            //     clearInterval(start);
            // });
            // $('.tab').mouseout(function () {
            //     start = setInterval(autoPlay, 3000);
            // });
            $('font').mouseover(function () {
                // clearInterval(start);
                yuan[pos].style.backgroundColor = 'white';
                pages[pos].style.display = 'none';
                yuan[pos].style.width = '11px';

                pos = $(this).index();
                pages[pos].style.display = 'block';
                yuan[pos].style.backgroundColor = 'blue';
                yuan[pos].style.width = '33px';
                // console.log(pos);
                plyer(players[2 * pos]);
                plyer(players[2 * pos + 1]);
            });
            plyer(players[2 * pos]);
            plyer(players[2 * pos + 1]);
        }
        function loadPlayer() {
            for (let id in players) {
                plyer(players[id]);
            }
        }
        var players = [1, 2, 3, 4, 5, 6];
        var pages = document.getElementsByClassName('page');
        var yuan = document.getElementsByTagName('font');
        var pos = 0;
        window.onload = loadPlayer;
        $(document).ready(roll);
    </script>
</body>

</html>
